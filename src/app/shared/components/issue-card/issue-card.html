<div class="issue-card" (click)="onCardClick()">
  <div class="card-header">
    <div class="status-row">
      <app-status-badge [status]="issue.status"></app-status-badge>
      <span class="issue-number">#{{ issue.id.slice(-6) }}</span>
      <div class="jira-badge" *ngIf="issue.jira.key">
        <nz-icon nzType="link" nzTheme="outline"></nz-icon>
        {{ issue.jira.key }}
      </div>
    </div>
    <div class="action-buttons" (click)="$event.stopPropagation()">
      <button nz-button nzType="default" nzSize="small" class="sync-btn" (click)="sendToJira.emit(issue.id)">
        <nz-icon nzType="sync" nzTheme="outline"></nz-icon>
        {{ jiraButtonLabel }}
      </button>
      <button nz-button nzType="default" nzSize="small" class="inspect-btn" (click)="onInspect()">
        Inspect
        <nz-icon nzType="right" nzTheme="outline"></nz-icon>
      </button>
    </div>
  </div>

  <h2 class="issue-title">{{ issue.title }}</h2>

  <div class="team-badges">
    <span class="team-primary">{{ teamName }}</span>
    <span class="team-secondary" *ngIf="subTeamName">{{ subTeamName }}</span>
    <span class="team-secondary" *ngIf="!subTeamName">{{ categoryLabel }}</span>
  </div>

  <div class="meta-divider"></div>

  <div class="issue-footer">
    <div class="footer-item">
      <nz-icon nzType="shop" nzTheme="outline"></nz-icon>
      <span>{{ storeName }}</span>
    </div>
    <div class="footer-item">
      <nz-icon nzType="clock-circle" nzTheme="outline"></nz-icon>
      <span>{{ issue.createdAt | date:'MMM d, h:mm a' }}</span>
    </div>
    <div class="footer-item">
      <nz-icon nzType="user" nzTheme="outline"></nz-icon>
      <span>{{ issue.reporterName }}</span>
    </div>
  </div>
</div>
